<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Narrators Messenger v1.7.2</title>
   
    <link rel="icon" href="https://via.placeholder.com/64" type="image/x-icon">
    <style>
        :root{
            --primary:#3390ec;
            --primary-soft:rgba(51,144,236,0.08);
            --bg:#ffffff;
            --muted:#707579;
            --border:#e6e6e9;
            --radius:12px;
            --shadow-sm: 0 6px 18px rgba(18,38,63,0.08);
            --ease: cubic-bezier(.2,.9,.3,1);
            --msg-me: #eeffde;
            --msg-me-text: #000000;
            --msg-other: #f4f4f5;
            --msg-other-text: #000000;
            --font-size:16px;
            --message-border-radius: 14px;
            --safe-area-bottom: env(safe-area-inset-bottom, 0px);
        }
        *{box-sizing:border-box;margin:0;padding:0}
        html,body{height:100%}
        body{
            font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
            background:var(--bg);
            color:#111;
            height:100vh;
            display:flex;
            overflow:hidden;
            -webkit-font-smoothing:antialiased;
            -moz-osx-font-smoothing:grayscale;
            font-size:var(--font-size);
        }
        .fade-in { animation: fadeIn .18s var(--ease) both; }
        @keyframes fadeIn { from{opacity:0; transform: translateY(4px)} to{opacity:1; transform:none} }
        /* Mobile-first layout */
        #app{
            display:none;
            flex-direction:column;
            width:100%;
            height:100%;
            position:relative;
        }
       
        /* –°–ê–ô–î–ë–ê–† –°–ü–ò–°–ö–ê –ß–ê–¢–û–í */
        #sidebar{
            width:100%;
            height:100%;
            flex-shrink:0;
            background:var(--bg);
            display:flex;
            flex-direction:column;
            position:fixed;
            top:0;
            left:0;
            z-index:1000;
            transform:translateX(0);
            transition:transform 0.3s var(--ease);
        }
       
        #sidebar.hidden {
            transform:translateX(-100%);
        }
        .sidebar-top{
            padding:12px 16px;
            display:flex;
            gap:12px;
            align-items:center;
            border-bottom:1px solid var(--border);
            background:var(--bg);
            min-height:60px;
        }
        .user-avatar{
            width:44px;
            height:44px;
            border-radius:10px;
            object-fit:cover;
            cursor:pointer;
            transition:transform .18s var(--ease);
        }
        .user-avatar:hover{ transform:translateY(-2px) scale(1.03) }
        .sidebar-meta {
            flex:1;
            overflow:hidden;
        }
        .sidebar-meta .name{
            font-weight:800;
            font-size:16px;
            white-space:nowrap;
            overflow:hidden;
            text-overflow:ellipsis;
        }
        .sidebar-meta .tag{
            color:var(--muted);
            font-size:13px;
            margin-top:2px;
            white-space:nowrap;
            overflow:hidden;
            text-overflow:ellipsis;
        }
        /* –ö–ù–û–ü–ö–ê –ú–ï–ù–Æ */
        #sidebar-menu-btn{
            background:transparent;
            border:none;
            padding:10px;
            border-radius:10px;
            cursor:pointer;
            display:inline-flex;
            align-items:center;
            justify-content:center;
            transition:transform .18s var(--ease), background .18s var(--ease);
            font-size:22px;
            min-width:44px;
            min-height:44px;
        }
        #sidebar-menu-btn:hover{ background:var(--primary-soft) }
        #sidebar-menu {
            position: absolute;
            left: 16px;
            top: 60px;
            width: calc(100% - 32px);
            background: #fff;
            border-radius: 12px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border);
            overflow: hidden;
            z-index: 100;
            display: none;
            opacity: 0;
            transform: translateY(-10px);
            transition: opacity 0.2s ease, transform 0.2s ease;
        }
       
        #sidebar-menu.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }
       
        #sidebar-menu .item {
            padding: 16px 14px;
            cursor: pointer;
            font-weight: 600;
            color: #123;
            display: flex;
            align-items: center;
            gap: 12px;
            background: transparent;
            transition: background .12s var(--ease);
            border: none;
            width: 100%;
            text-align: left;
            font-family: inherit;
            font-size: 15px;
            min-height:44px;
        }
       
        #sidebar-menu .item:hover {
            background: linear-gradient(90deg, var(--primary-soft), transparent);
        }
       
        #sidebar-menu .divider {
            height: 1px;
            background: var(--border);
            margin: 4px 0;
        }
        .search-wrap {
            padding:12px;
        }
        .input-field{
            width:100%;
            padding:14px 12px;
            border-radius:10px;
            border:1px solid var(--border);
            background:#fff;
            transition:box-shadow .12s var(--ease), border-color .12s var(--ease);
            font-size:16px;
            min-height:44px;
        }
        .input-field:focus{
            box-shadow:0 8px 20px rgba(17,24,39,0.04);
            border-color:var(--primary);
            outline:none;
        }
        .chat-list-container{
            flex:1;
            overflow:auto;
            padding:8px 12px;
        }
        .chat-row{
            display:flex;
            align-items:center;
            gap:12px;
            padding:14px 12px;
            border-radius:10px;
            transition: background .12s var(--ease), transform .12s var(--ease);
            min-height:60px;
            cursor:pointer;
        }
        .chat-row:hover{ background:var(--primary-soft); transform:translateX(4px) }
        /* –û–ö–ù–û –ß–ê–¢–ê */
        #chat-window{
            flex:1;
            display:flex;
            flex-direction:column;
            background:var(--bg);
            width:100%;
            height:100%;
            position:fixed;
            top:0;
            left:0;
            z-index:999;
            transform:translateX(100%);
            transition:transform 0.3s var(--ease);
        }
       
        #chat-window.visible {
            transform:translateX(0);
        }
       
        .chat-top-bar{
            display:flex;
            align-items:center;
            gap:12px;
            padding:12px 16px;
            border-bottom:1px solid var(--border);
            background:var(--bg);
            min-height:60px;
            position:relative;
        }
       
        #chat-top-avatar{
            width:40px;
            height:40px;
            border-radius:10px;
            object-fit:cover;
            flex-shrink:0;
        }
       
        .chat-top-info {
            flex:1;
            min-width:0;
            padding-right: 60px;
        }
       
        #chat-top-title{
            font-weight:800;
            white-space:nowrap;
            overflow:hidden;
            text-overflow:ellipsis;
            font-size:16px;
        }
       
        #chat-top-sub{
            white-space:nowrap;
            overflow:hidden;
            text-overflow:ellipsis;
            font-size:13px;
            color:var(--muted);
        }
       
        .chat-back-btn {
            display: flex;
            align-items:center;
            justify-content:center;
            background: transparent;
            border: none;
            font-size: 24px;
            cursor: pointer;
            width:44px;
            height:44px;
            border-radius:10px;
            flex-shrink:0;
            margin-right: 8px;
        }
       
        .chat-back-btn:hover {
            background: var(--primary-soft);
        }
       
        .chat-top-actions {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            gap: 8px;
        }
        #messages-view{
            flex:1;
            overflow:auto;
            padding:16px;
            display:flex;
            flex-direction:column;
            gap:12px;
            scroll-behavior:smooth;
            background:linear-gradient(180deg, rgba(0,0,0,0.01), rgba(0,0,0,0.00));
            -webkit-overflow-scrolling: touch;
        }
        .msg-wrapper{
            display:flex;
            gap:10px;
            align-items:flex-end;
            width:100%;
            animation:msgIn .18s var(--ease);
        }
        @keyframes msgIn{ from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none} }
        .msg-wrapper.my-msg{ justify-content:flex-end }
        .msg-wrapper.other-msg{ justify-content:flex-start }
        .msg-bubble{
            background:var(--msg-other);
            padding:14px 16px;
            border-radius:var(--message-border-radius, 14px);
            max-width:85%;
            box-shadow:0 6px 20px rgba(11,22,39,0.04);
            transition: transform .12s var(--ease), box-shadow .12s var(--ease);
            word-wrap:break-word;
            overflow-wrap:break-word;
        }
        .msg-bubble:hover{ transform:translateY(-3px); box-shadow:0 10px 30px rgba(11,22,39,0.06) }
        .msg-wrapper.my-msg .msg-bubble{ background:var(--msg-me); color:var(--msg-me-text); }
        .msg-avatar{
            width:36px;
            height:36px;
            border-radius:50%;
            object-fit:cover;
            cursor:pointer;
            transition:transform .12s var(--ease);
            flex-shrink:0;
        }
        .msg-avatar:hover{ transform:scale(1.06) }
        #reply-preview{
            display:none;
            padding:12px;
            border-left:4px solid var(--primary);
            background:#fff;
            border-radius:10px;
            margin-bottom:10px;
            box-shadow:var(--shadow-sm);
            margin:0 12px 10px 12px;
        }
        .input-container {
            display: flex;
            flex-direction: column;
            background: var(--bg);
            border-top: 1px solid var(--border);
            padding: 12px;
            position: sticky;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 100;
            margin-top: auto;
        }
        .input-group {
            display: flex;
            gap: 8px;
            align-items: flex-end;
        }
        #main-input {
            flex: 1;
            padding: 14px;
            border-radius: 10px;
            border: 1px solid var(--border);
            font-family: inherit;
            font-size: 16px;
            resize: none;
            min-height: 48px;
            max-height: 120px;
            line-height:1.4;
            background: var(--bg);
            -webkit-appearance: none;
        }
        .profile-overlay {
            position:fixed;
            inset:0;
            background:rgba(0,0,0,0.45);
            z-index:10001;
            display:none;
            backdrop-filter:blur(3px);
        }
        .profile-overlay.active { display:block; }
       
        .profile-modal,
        .settings-modal,
        .group-modal,
        .notifications-modal{
            transition:opacity .22s var(--ease), transform .22s var(--ease), visibility .22s var(--ease);
            will-change:transform,opacity;
            max-height:90vh;
            overflow-y:auto;
            -webkit-overflow-scrolling: touch;
        }
        .profile-modal{
            position:fixed;
            left:50%;
            top:50%;
            transform:translate(-50%,-50%) scale(0.95);
            width:95%;
            max-width:520px;
            background:#fff;
            border-radius:14px;
            padding:18px;
            box-shadow:0 20px 60px rgba(0,0,0,0.3);
            z-index:10002;
            display:none;
            opacity:0;
        }
        .profile-modal.active{ display:block; transform:translate(-50%,-50%) scale(1); opacity:1; }
        .settings-modal{
            position:fixed;
            left:50%;
            top:50%;
            transform:translate(-50%,-50%) scale(0.95);
            width:95%;
            max-width:560px;
            background:#fff;
            border-radius:12px;
            padding:18px;
            box-shadow:0 30px 80px rgba(0,0,0,0.25);
            z-index:10003;
            display:none;
            opacity:0;
        }
        .settings-modal.active{ display:block; transform:translate(-50%,-50%) scale(1); opacity:1; }
        .group-modal{
            position:fixed;
            left:50%;
            top:50%;
            transform:translate(-50%,-50%) scale(0.95);
            background:#fff;
            z-index:10004;
            width:95%;
            max-width:620px;
            border-radius:12px;
            padding:16px;
            display:none;
            box-shadow:0 20px 60px rgba(0,0,0,0.25);
        }
        .group-modal.active{ display:block; transform:translate(-50%,-50%) scale(1); opacity:1; }
        .notifications-modal{
            position:fixed;
            left:50%;
            top:50%;
            transform:translate(-50%,-50%) scale(0.95);
            background:#fff;
            z-index:10005;
            width:95%;
            max-width:500px;
            border-radius:12px;
            padding:16px;
            display:none;
            box-shadow:0 20px 60px rgba(0,0,0,0.25);
        }
        .notifications-modal.active{ display:block; transform:translate(-50%,-50%) scale(1); opacity:1; }
        .btn{
            border-radius:10px;
            padding:12px 16px;
            transition:transform .12s var(--ease), box-shadow .12s var(--ease);
            border:none;
            font-size:15px;
            font-weight:600;
            cursor:pointer;
            display:inline-flex;
            align-items:center;
            justify-content:center;
            gap:8px;
            min-height:44px;
            min-width:44px;
        }
        .btn:active{ transform:scale(.98) }
        .btn-primary{ background:var(--primary); color:#fff; }
        .btn-ghost{ background:#f6f7fb; border:1px solid #efefef; color:#123; }
        .muted-xs{ font-size:13px; color:var(--muted) }
        .chip {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 12px;
            background: var(--primary-soft);
            border-radius: 8px;
            font-size: 14px;
            border: 1px solid var(--border);
            min-height:36px;
        }
        .time-stamp {
            font-size: 11px;
            opacity: 0.6;
            display: block;
            margin-top: 4px;
            text-align: right;
        }
        .author-tag {
            font-weight: 600;
            display: block;
            margin-bottom: 4px;
            font-size:15px;
        }
        .msg-content-body {
            word-break: break-word;
            font-size:15px;
            line-height:1.4;
        }
        .msg-content-body a {
            color: var(--primary);
            text-decoration: none;
        }
        .msg-content-body a:hover {
            text-decoration: underline;
        }
        .msg-content-body img {
            max-width:100%;
            border-radius:8px;
            margin-top:8px;
            cursor:pointer;
        }
        .notification-permission-banner {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary);
            color: white;
            padding: 14px 20px;
            border-radius: var(--radius);
            display: none;
            align-items: center;
            gap: 12px;
            z-index: 10006;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            max-width: 90%;
            width: 400px;
            font-size:14px;
        }
        .notification-permission-banner button {
            background: white;
            color: var(--primary);
            border: none;
            padding: 8px 14px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin-left: auto;
            min-height:36px;
        }
        .attach-menu {
            position: absolute;
            bottom: 75px;
            left: 12px;
            background: #fff;
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 8px;
            z-index: 1000;
            display: none;
            box-shadow: var(--shadow-sm);
            min-width:200px;
        }
        .attach-option {
            display: block;
            width: 100%;
            padding: 14px;
            text-align: left;
            background: transparent;
            border: none;
            cursor: pointer;
            border-radius: 6px;
            transition: background .12s var(--ease);
            font-size:15px;
            min-height:44px;
        }
        .attach-option:hover {
            background: var(--primary-soft);
        }
        body.dark-theme {
            --bg:#0a0a0a;
            --muted:#8a8a8a;
            --border:#222222;
            --primary-soft:rgba(51,144,236,0.15);
            --msg-me:#1e3b1e;
            --msg-me-text:#ffffff;
            --msg-other:#1a1a1a;
            --msg-other-text:#ffffff;
            --shadow-sm: 0 6px 18px rgba(0,0,0,0.5);
            color: #ffffff;
        }
        body.dark-theme .profile-modal,
        body.dark-theme .settings-modal,
        body.dark-theme .group-modal,
        body.dark-theme .notifications-modal,
        body.dark-theme #sidebar-menu,
        body.dark-theme .attach-menu {
            background:#1a1a1a;
            border-color:#333;
            color:#fff;
        }
        body.dark-theme .input-field {
            background:#2a2a2a;
            border-color:#333;
            color:#fff;
        }
        body.dark-theme .btn-ghost {
            background:#2a2a2a;
            border-color:#333;
            color:#fff;
        }
        body.dark-theme .chip {
            background:#2a2a2a;
            border-color:#333;
            color:#fff;
        }
        body.dark-theme .attach-option {
            color:#fff;
            background:#1a1a1a;
        }
        body.dark-theme .attach-option:hover {
            background:#2a2a2a;
        }
        body.dark-theme .notification-permission-banner {
            background: #2a2a2a;
            border: 1px solid #333;
        }
        #settings-preview {
            background: var(--bg);
            padding: 16px;
            border-radius: 10px;
            border: 1px solid var(--border);
        }
        #settings-preview .preview-message {
            background: var(--msg-other);
            color: var(--msg-other-text);
            padding: 14px 16px;
            border-radius: var(--message-border-radius);
            max-width: 85%;
            box-shadow: 0 6px 20px rgba(11,22,39,0.04);
            margin-bottom: 12px;
            font-size: var(--font-size);
        }
        #settings-preview .preview-message.my {
            background: var(--msg-me);
            color: var(--msg-me-text);
        }
        #theme-toggle-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 16px 14px;
            background: transparent;
            border: none;
            cursor: pointer;
            border-radius: 8px;
            transition: background .12s var(--ease);
            width: 100%;
            font-family: inherit;
            font-size: 15px;
            font-weight: 600;
            color: #123;
        }
        body.dark-theme #theme-toggle-btn {
            color: #fff;
        }
        #theme-toggle-btn:hover {
            background: var(--primary-soft);
        }
        @media (min-width: 769px) {
            #app{
                flex-direction:row;
            }
            #sidebar{
                width:360px;
                height:100%;
                border-right:1px solid var(--border);
                position:relative;
                transform:none !important;
            }
            #chat-window{
                position:relative;
                transform:none !important;
                display:flex !important;
            }
            .chat-back-btn{
                display:none !important;
            }
            .sidebar-top{
                padding:16px 20px;
                min-height:70px;
            }
            .user-avatar{
                width:52px;
                height:52px;
            }
            .chat-top-bar{
                padding:16px 20px;
                min-height:70px;
            }
            #chat-top-avatar{
                width:48px;
                height:48px;
            }
            .msg-bubble{
                max-width:70%;
            }
            .msg-avatar{
                width:40px;
                height:40px;
            }
            .input-container {
                position: relative;
                padding-bottom: 20px;
            }
        }
        @media (max-width: 768px) {
            .input-container {
                padding-bottom: calc(12px + var(--safe-area-bottom));
            }
            #main-input {
                min-height: 44px;
            }
            .msg-bubble{
                max-width:85%;
                padding:12px 14px;
            }
        }
        .slide-in-right {
            animation: slideInRight 0.3s var(--ease);
        }
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        .slide-in-left {
            animation: slideInLeft 0.3s var(--ease);
        }
        @keyframes slideInLeft {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    </style>
</head>
<body>
    <div id="notification-permission-banner" class="notification-permission-banner">
        <div>üîî –ü–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö?</div>
        <button onclick="notificationManager.requestPermission()">–í–∫–ª—é—á–∏—Ç—å</button>
        <button onclick="notificationManager.hideBanner()" style="background: transparent; color: white; padding: 0; margin-left: 4px; min-height:auto;">‚úï</button>
    </div>
    <div id="app" class="fade-in">
        <div id="sidebar">
            <div class="sidebar-top">
                <img id="user-profile-img" class="user-avatar" src="https://via.placeholder.com/150" onclick="uiAction.openProfile(window.state?.user?.uid)">
                <div class="sidebar-meta">
                    <div class="name" id="user-display-name">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                    <div class="tag muted-xs" id="user-display-tag">@username</div>
                </div>
                <button id="sidebar-menu-btn" aria-expanded="false" title="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é">‚ò∞</button>
               
                <div id="sidebar-menu" aria-hidden="true">
                    <button class="item" onclick="uiAction.openSettings(); toggleSidebarMenu()">üé® –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è</button>
                    <button class="item" onclick="uiAction.openCreateGroup(); toggleSidebarMenu()">‚ûï –°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É</button>
                    <button class="item" onclick="uiAction.openCreateChannel(); toggleSidebarMenu()">üì¢ –°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª</button>
                    <button class="item" onclick="uiAction.openNotifications(); toggleSidebarMenu()">üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</button>
                    <div class="divider"></div>
                    <button class="item" onclick="uiAction.openGlobal(); toggleSidebarMenu()">üåç Global —á–∞—Ç</button>
                    <div class="divider"></div>
                    <button id="theme-toggle-btn" onclick="toggleTheme(); toggleSidebarMenu()">
                        <span id="theme-icon">üåô</span>
                        <span id="theme-text">–¢–µ–º–Ω–∞—è —Ç–µ–º–∞</span>
                    </button>
                    <div class="divider"></div>
                    <button class="item" onclick="signOutUser(); toggleSidebarMenu()" style="color:#ff3b30;">üö™ –í—ã–π—Ç–∏</button>
                </div>
            </div>
            <div class="search-wrap">
                <input id="user-search-input" class="input-field" placeholder="–ü–æ–∏—Å–∫ –ø–æ @—Ç–µ–≥—É –∏–ª–∏ –∏–º–µ–Ω–∏...">
            </div>
            <div class="chat-list-container" id="conversations-list">
                <!-- –ß–∞—Ç—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
        <div id="chat-window">
            <div class="chat-top-bar">
                <button class="chat-back-btn" onclick="showChatList()">‚Üê</button>
                <img id="chat-top-avatar" src="https://via.placeholder.com/100">
                <div class="chat-top-info">
                    <div id="chat-top-title">Global Chat Room</div>
                    <div id="chat-top-sub" class="muted-xs">–û–±—â–∏–π —á–∞—Ç</div>
                </div>
                <div class="chat-top-actions"></div>
            </div>
            <div id="messages-view"></div>
            <div class="input-container">
                <div id="reply-preview"></div>
                <div class="input-group">
                    <div style="position: relative;">
                        <button id="attach-btn" class="btn btn-ghost">üìé</button>
                        <div id="attach-menu" class="attach-menu">
                            <button class="attach-option" onclick="attachFromURL()">üì∑ –í—Å—Ç–∞–≤–∏—Ç—å URL –∫–∞—Ä—Ç–∏–Ω–∫–∏</button>
                            <button class="attach-option" onclick="attachFromFile()">üìÅ –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª</button>
                        </div>
                    </div>
                    <textarea id="main-input" rows="1" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."></textarea>
                    <button id="send-msg-btn" class="btn btn-primary" onclick="sendMessage()">‚û§</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –í—Å–µ –º–æ–¥–∞–ª–∫–∏ –∏–∑ —Ç–≤–æ–µ–≥–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ (profile, settings, notifications, group, channel, login, image-preview) -->
    <!-- –Ø –∏—Ö –æ—Å—Ç–∞–≤–∏–ª –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π, –∫–æ–ø–∏—Ä—É–π –∏–∑ —Å–≤–æ–µ–≥–æ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ, –æ–Ω–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã -->

    <script type="module">
        // ... –≤–µ—Å—å —Ç–≤–æ–π –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç —Å –º–æ–∏–º–∏ –ø—Ä–∞–≤–∫–∞–º–∏ –ø–æ –∫–∞–Ω–∞–ª–∞–º (listeners, addConversationToList, openChat –∏ —Ç.–¥.) ...

        // –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —É–∂–µ –≤—Å—Ç—Ä–æ–µ–Ω—ã –≤ –∫–æ–¥ –≤—ã—à–µ (–≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –æ—Ç–≤–µ—Ç–µ —è –∏—Ö –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å–∞–ª)

        initAuth();
    </script>
</body>
</html>
