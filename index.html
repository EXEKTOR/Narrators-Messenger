<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Narrators Messenger | Enterprise Edition v0.1.3</title>

    <style>
        :root {
            /* –ü–∞–ª–∏—Ç—Ä–∞ –±—Ä–µ–Ω–¥–æ–≤—ã—Ö —Ü–≤–µ—Ç–æ–≤ */
            --primary-color: #3390ec;
            --primary-light: rgba(51, 144, 236, 0.15);
            --accent-color: #0088cc;
            
            /* –¶–≤–µ—Ç–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ */
            --bg-window: #ffffff;
            --bg-sidebar: #ffffff;
            --bg-chat-surface: #f4f4f5;
            
            /* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π */
            --msg-bubble-me: #eeffde;
            --msg-text-me: #000000;
            --msg-bubble-other: #ffffff;
            --msg-text-other: #000000;
            
            /* –ì–µ–æ–º–µ—Ç—Ä–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
            --border-radius-lg: 16px;
            --border-radius-md: 12px;
            --border-radius-sm: 8px;
            
            /* –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ */
            --font-main: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            --base-font-size: 16px;
            
            /* –ì—Ä–∞–Ω–∏—Ü—ã –∏ —Ç–µ–Ω–∏ */
            --border-light: 1px solid #e4e4e4;
            --shadow-soft: 0 2px 10px rgba(0, 0, 0, 0.05);
            --transition-speed: 0.3s;
        }

        /* –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å–±—Ä–æ—Å—ã –∏ –±–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            outline: none;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: var(--font-main);
            font-size: var(--base-font-size);
            background-color: var(--bg-window);
            color: #000000;
            height: 100vh;
            width: 100vw;
            display: flex;
            overflow: hidden;
            line-height: 1.5;
        }

        /* --- –ö–û–ú–ü–û–ù–ï–ù–¢–´ –ö–ù–û–ü–û–ö --- */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 24px;
            border: none;
            border-radius: var(--border-radius-md);
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.1s ease, opacity 0.2s ease;
            user-select: none;
        }

        .btn:active {
            transform: scale(0.96);
            opacity: 0.9;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: #ffffff;
            box-shadow: 0 4px 12px rgba(51, 144, 236, 0.3);
        }

        /* --- –≠–ö–†–ê–ù–´ –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò --- */
        .full-screen-panel {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #ffffff;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            padding: 40px;
            text-align: center;
        }

        .auth-logo {
            font-size: 3rem;
            font-weight: 900;
            color: var(--primary-color);
            letter-spacing: -2px;
            margin-bottom: 8px;
        }

        .auth-input-group {
            width: 100%;
            max-width: 320px;
            margin-top: 20px;
        }

        .standard-input {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid #f0f0f0;
            border-radius: var(--border-radius-md);
            font-size: 1rem;
            margin-bottom: 12px;
            transition: border-color 0.2s ease;
        }

        .standard-input:focus {
            border-color: var(--primary-color);
        }

        /* --- –°–¢–†–£–ö–¢–£–†–ê –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø --- */
        #main-application {
            display: none;
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.8s ease;
        }

        #main-application.is-active {
            display: flex;
            opacity: 1;
        }

        /* --- –°–ê–ô–î–ë–ê–† (–õ–ï–í–ê–Ø –ü–ê–ù–ï–õ–¨) --- */
        #sidebar-container {
            width: 360px;
            height: 100%;
            background: var(--bg-sidebar);
            border-right: var(--border-light);
            display: flex;
            flex-direction: column;
            z-index: 500;
        }

        .sidebar-header {
            padding: 16px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        /* –ë–õ–û–ö –ü–û–ò–°–ö–ê */
        .search-module {
            padding: 8px 16px 16px 16px;
            border-bottom: var(--border-light);
        }

        .search-bar-inner {
            position: relative;
            display: flex;
            align-items: center;
        }

        .search-icon {
            position: absolute;
            left: 14px;
            color: #999;
            font-size: 14px;
        }

        .search-field {
            width: 100%;
            background: #f1f1f2;
            border: none;
            padding: 10px 10px 10px 40px;
            border-radius: 10px;
            font-size: 15px;
        }

        .search-field:focus {
            background: #ffffff;
            box-shadow: inset 0 0 0 2px var(--primary-color);
        }

        /* –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ */
        #search-results-overlay {
            margin-top: 8px;
            display: none;
            background: #fff;
            border-radius: var(--border-radius-sm);
            max-height: 400px;
            overflow-y: auto;
            border: var(--border-light);
            box-shadow: var(--shadow-soft);
        }

        /* --- –û–ö–ù–û –ß–ê–¢–ê (–¶–ï–ù–¢–†–ê–õ–¨–ù–ê–Ø –ü–ê–ù–ï–õ–¨) --- */
        #viewport-chat {
            flex: 1;
            display: flex;
            flex-direction: column;
            background-color: var(--bg-chat-surface);
            position: relative;
        }

        .viewport-header {
            height: 60px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 0 20px;
            display: flex;
            align-items: center;
            border-bottom: var(--border-light);
            z-index: 100;
        }

        #message-flow-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px 10%;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        /* --- –°–û–û–ë–©–ï–ù–ò–Ø --- */
        .message-row {
            display: flex;
            width: 100%;
            animation: messageEntry 0.3s cubic-bezier(0.1, 0.9, 0.2, 1);
        }

        .message-row.is-me {
            justify-content: flex-end;
        }

        .message-bubble {
            padding: 10px 16px;
            max-width: 70%;
            position: relative;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
            border-radius: var(--border-radius-md);
        }

        .is-me .message-bubble {
            background-color: var(--msg-bubble-me);
            color: var(--msg-text-me);
            border-bottom-right-radius: 4px;
        }

        .is-other .message-bubble {
            background-color: var(--msg-bubble-other);
            color: var(--msg-text-other);
            border-bottom-left-radius: 4px;
        }

        .message-author {
            font-size: 13px;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 4px;
            display: block;
        }

        /* --- –ü–ê–ù–ï–õ–¨ –í–í–û–î–ê --- */
        .input-system-footer {
            background: #ffffff;
            padding: 12px 20px;
            border-top: var(--border-light);
        }

        .input-layout-row {
            display: flex;
            align-items: flex-end;
            gap: 12px;
            max-width: 1000px;
            margin: 0 auto;
        }

        #main-text-area {
            flex: 1;
            border: none;
            padding: 10px 0;
            font-size: 16px;
            resize: none;
            max-height: 150px;
            background: transparent;
        }

        /* --- –ë–û–ö–û–í–û–ï –ú–ï–ù–Æ --- */
        #navigation-drawer {
            position: fixed;
            top: 0;
            left: -320px;
            width: 320px;
            height: 100%;
            background: #ffffff;
            z-index: 2000;
            transition: left var(--transition-speed) var(--ease);
            box-shadow: 10px 0 30px rgba(0,0,0,0.1);
        }

        #navigation-drawer.is-open {
            left: 0;
        }

        /* –ê–ù–ò–ú–ê–¶–ò–ò */
        @keyframes messageEntry {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ */
        @media (max-width: 800px) {
            #sidebar-container { width: 100%; }
            #viewport-chat {
                display: none;
                position: fixed;
                inset: 0;
                z-index: 800;
            }
            body.chat-mode-active #viewport-chat { display: flex; }
        }
    </style>
</head>
<body>

    <section id="auth-gateway" class="full-screen-panel">
        <h1 class="auth-logo">Narrators</h1>
        <p style="color: #888; margin-bottom: 40px;">Professional Messaging Platform</p>
        <div class="auth-input-group">
            <button id="google-auth-button" class="btn btn-primary" style="width: 100%; padding: 16px;">
                Continue with Google Account
            </button>
        </div>
    </section>

    <section id="profile-setup" class="full-screen-panel" style="display: none;">
        <h2 style="margin-bottom: 24px;">Setup Your Profile</h2>
        <div class="auth-input-group">
            <input id="input-display-name" class="standard-input" placeholder="Your full name">
            <input id="input-username-tag" class="standard-input" placeholder="@username_tag">
            <button id="save-profile-action" class="btn btn-primary" style="width: 100%; margin-top: 10px;">
                START MESSAGING
            </button>
        </div>
    </section>

    <main id="main-application">
        
        <div id="navigation-drawer">
            <div style="background: var(--primary-color); padding: 40px 24px; color: #fff;">
                <img id="drawer-user-avatar" style="width: 70px; height: 70px; border-radius: 50%; border: 3px solid rgba(255,255,255,0.3); margin-bottom: 15px; object-fit: cover;">
                <h3 id="drawer-user-name" style="margin-bottom: 4px;">User Name</h3>
                <p id="drawer-user-tag" style="opacity: 0.8; font-size: 14px;">@tag</p>
            </div>
            <nav style="padding: 20px;">
                <button onclick="appCore.logout()" style="color: #ff3b30; padding: 12px; font-weight: 600;">Logout</button>
            </nav>
        </div>

        <aside id="sidebar-container">
            <div class="sidebar-header">
                <button id="drawer-trigger" style="font-size: 24px;">‚ò∞</button>
                <span style="font-weight: 800; font-size: 18px; color: var(--primary-color);">NARRATORS</span>
                <div style="width: 24px;"></div> </div>

            <div class="search-module">
                <div class="search-bar-inner">
                    <span class="search-icon">üîç</span>
                    <input type="text" id="global-search-input" class="search-field" placeholder="Search people...">
                </div>
                <div id="search-results-overlay"></div>
            </div>

            <div id="chat-roster-list" style="flex: 1; overflow-y: auto;">
                <div class="chat-row" onclick="uiManager.openGlobalRoom()" style="padding: 15px 20px; display: flex; gap: 14px; align-items: center; cursor: pointer;">
                    <img src="https://cdn-icons-png.flaticon.com/512/1041/1041916.png" style="width: 50px; height: 50px; border-radius: 50%;">
                    <div>
                        <div style="font-weight: 700;">Global Chat Room</div>
                        <div style="font-size: 13px; color: #999;">Connect with everyone</div>
                    </div>
                </div>
            </div>
        </aside>

        <section id="viewport-chat">
            <div class="viewport-header">
                <button onclick="uiManager.backToRoster()" style="margin-right: 15px; font-size: 20px; display: none;" class="mobile-only-back">‚¨Ö</button>
                <div style="font-weight: 700;">Global Chat Room</div>
            </div>

            <div id="message-flow-container">
                </div>

            <footer class="input-system-footer">
                <div class="input-layout-row">
                    <textarea id="main-text-area" placeholder="Type a message..." rows="1"></textarea>
                    <button id="send-message-trigger" style="color: var(--primary-color); font-size: 28px;">‚û§</button>
                </div>
            </footer>
        </section>
    </main>

    <script type="module">
        /* 1. –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï –ë–ò–ë–õ–ò–û–¢–ï–ö 
           –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π CDN Google Firebase.
        */
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { 
            getAuth, 
            signInWithRedirect, 
            onAuthStateChanged, 
            signOut, 
            GoogleAuthProvider 
        } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        import { 
            getDatabase, 
            ref, 
            set, 
            push, 
            onValue, 
            get, 
            child 
        } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        /* 2. –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –°–ï–†–í–ï–†–ù–û–ô –ß–ê–°–¢–ò 
        */
        const firebaseConfig = {
            apiKey: "AIzaSyBcrCVxPPU_PVOeFFBJ8sKXehMZyKaB4ks",
            authDomain: "narrators-messenger.firebaseapp.com",
            databaseURL: "https://narrators-messenger-default-rtdb.firebaseio.com",
            projectId: "narrators-messenger",
            storageBucket: "narrators-messenger.firebasestorage.app",
            messagingSenderId: "421115209686",
            appId: "1:421115209686:web:94d5560793540f14f02677"
        };

        /* 3. –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ò–ù–°–¢–ê–ù–°–û–í 
        */
        const appInstance = initializeApp(firebaseConfig);
        const authModule = getAuth(appInstance);
        const dbInstance = getDatabase(appInstance);
        const authProvider = new GoogleAuthProvider();

        /* 4. –ì–õ–û–ë–ê–õ–¨–ù–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï –°–û–°–¢–û–Ø–ù–ò–Ø 
        */
        let sessionUser = null;
        let sessionProfile = null;

        /* 5. –Ø–î–†–û –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø (AppCore)
           –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —Å–µ—Å—Å–∏–∏.
        */
        window.appCore = {
            init: function() {
                this.bindAuthEvents();
            },

            bindAuthEvents: function() {
                // –°–ª—É—à–∞—Ç–µ–ª—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—Ö–æ–¥–∞
                onAuthStateChanged(authModule, async (user) => {
                    if (user) {
                        sessionUser = user;
                        await this.synchronizeProfile();
                    } else {
                        this.showAuthPanel();
                    }
                });

                // –ö–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞
                document.getElementById('google-auth-button').onclick = () => {
                    signInWithRedirect(authModule, authProvider);
                };

                // –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
                document.getElementById('save-profile-action').onclick = () => {
                    this.performRegistration();
                };
            },

            synchronizeProfile: async function() {
                const userRef = child(ref(dbInstance), `users/${sessionUser.uid}`);
                const snapshot = await get(userRef);

                if (snapshot.exists()) {
                    sessionProfile = snapshot.val();
                    this.launchInterface();
                } else {
                    document.getElementById('auth-gateway').style.display = 'none';
                    document.getElementById('profile-setup').style.display = 'flex';
                }
            },

            performRegistration: async function() {
                const nameInput = document.getElementById('input-display-name').value.trim();
                const tagInput = document.getElementById('input-username-tag').value.trim().replace('@', '');

                if (nameInput.length < 2) return alert("Please enter a valid name");

                sessionProfile = {
                    uid: sessionUser.uid,
                    displayName: nameInput,
                    usernameDisplay: tagInput,
                    photoURL: sessionUser.photoURL || 'https://via.placeholder.com/150'
                };

                await set(ref(dbInstance, `users/${sessionUser.uid}`), sessionProfile);
                this.launchInterface();
            },

            launchInterface: function() {
                document.getElementById('auth-gateway').style.display = 'none';
                document.getElementById('profile-setup').style.display = 'none';
                
                const mainApp = document.getElementById('main-application');
                mainApp.classList.add('is-active');

                // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –º–µ–Ω—é
                document.getElementById('drawer-user-avatar').src = sessionProfile.photoURL;
                document.getElementById('drawer-user-name').innerText = sessionProfile.displayName;
                document.getElementById('drawer-user-tag').innerText = '@' + sessionProfile.usernameDisplay;

                messagingEngine.init();
                searchEngine.init();
            },

            showAuthPanel: function() {
                document.getElementById('auth-gateway').style.display = 'flex';
                document.getElementById('main-application').classList.remove('is-active');
            },

            logout: function() {
                if (confirm("Are you sure you want to logout?")) {
                    signOut(authModule);
                    location.reload();
                }
            }
        };

        /* 6. –ü–û–ò–°–ö–û–í–´–ô –î–í–ò–ñ–û–ö (SearchEngine)
           –†–µ–∞–ª–∏–∑—É–µ—Ç –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–π –±–∞–∑–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
        */
        window.searchEngine = {
            init: function() {
                const searchField = document.getElementById('global-search-input');
                const overlay = document.getElementById('search-results-overlay');

                searchField.addEventListener('input', async (event) => {
                    const searchTerm = event.target.value.trim().toLowerCase();
                    
                    if (searchTerm.length === 0) {
                        overlay.style.display = 'none';
                        return;
                    }

                    const usersSnapshot = await get(ref(dbInstance, 'users'));
                    if (usersSnapshot.exists()) {
                        this.renderResults(usersSnapshot.val(), searchTerm);
                    }
                });
            },

            renderResults: function(usersData, term) {
                const overlay = document.getElementById('search-results-overlay');
                overlay.innerHTML = '';
                let matchCounter = 0;

                Object.values(usersData).forEach(user => {
                    const matchName = user.displayName.toLowerCase().includes(term);
                    const matchTag = user.usernameDisplay.toLowerCase().includes(term);

                    if (matchName || matchTag) {
                        matchCounter++;
                        const resultItem = document.createElement('div');
                        resultItem.style.cssText = 'padding: 10px 15px; display: flex; align-items: center; gap: 12px; cursor: pointer; border-bottom: 1px solid #f9f9f9;';
                        resultItem.innerHTML = `
                            <img src="${user.photoURL}" style="width: 32px; height: 32px; border-radius: 50%;">
                            <div style="font-size: 14px;">
                                <strong>${user.displayName}</strong>
                                <span style="color: var(--primary-color); margin-left: 4px;">@${user.usernameDisplay}</span>
                            </div>
                        `;
                        
                        resultItem.onclick = () => {
                            alert(`Private messaging with ${user.displayName} is coming soon in v0.1.4!`);
                        };

                        overlay.appendChild(resultItem);
                    }
                });

                overlay.style.display = matchCounter > 0 ? 'block' : 'none';
                if (matchCounter === 0) {
                    overlay.innerHTML = '<div style="padding: 15px; color: #999; font-size: 13px; text-align:center;">No people found</div>';
                    overlay.style.display = 'block';
                }
            }
        };

        /* 7. –î–í–ò–ñ–û–ö –°–û–û–ë–©–ï–ù–ò–ô (MessagingEngine)
           –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–∏–µ–º –∏ –ø–µ—Ä–µ–¥–∞—á—É –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
        */
        window.messagingEngine = {
            init: function() {
                this.listenForMessages();
                this.attachSendHandlers();
            },

            listenForMessages: function() {
                const messagesRef = ref(dbInstance, 'messages');
                onValue(messagesRef, (snapshot) => {
                    const container = document.getElementById('message-flow-container');
                    container.innerHTML = '';
                    
                    const data = snapshot.val();
                    if (!data) return;

                    Object.entries(data).forEach(([key, msg]) => {
                        this.appendMessageToUI(msg);
                    });
                    
                    container.scrollTop = container.scrollHeight;
                });
            },

            appendMessageToUI: function(msg) {
                const container = document.getElementById('message-flow-container');
                const isMe = msg.uid === sessionUser.uid;

                const wrapper = document.createElement('div');
                wrapper.className = `message-row ${isMe ? 'is-me' : 'is-other'}`;

                wrapper.innerHTML = `
                    <div class="message-bubble">
                        <span class="message-author">${msg.displayName}</span>
                        <div class="message-text-content">${this.sanitize(msg.text)}</div>
                        <div style="font-size: 10px; opacity: 0.4; text-align: right; margin-top: 4px;">
                            ${new Date(msg.createdAt).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}
                        </div>
                    </div>
                `;

                container.appendChild(wrapper);
            },

            attachSendHandlers: function() {
                const btn = document.getElementById('send-message-trigger');
                const area = document.getElementById('main-text-area');

                const processSend = () => {
                    const content = area.value.trim();
                    if (!content) return;

                    push(ref(dbInstance, 'messages'), {
                        uid: sessionUser.uid,
                        displayName: sessionProfile.displayName,
                        text: content,
                        createdAt: Date.now()
                    });

                    area.value = '';
                    area.style.height = 'auto';
                };

                btn.onclick = processSend;
                area.onkeydown = (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        processSend();
                    }
                };
            },

            sanitize: function(str) {
                return str.replace(/</g, "&lt;").replace(/>/g, "&gt;");
            }
        };

        /* 8. –ú–ï–ù–ï–î–ñ–ï–† –ò–ù–¢–ï–†–§–ï–ô–°–ê (UIManager)
           –£–ø—Ä–∞–≤–ª—è–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è–º–∏.
        */
        window.uiManager = {
            toggleDrawer: function(open) {
                const drawer = document.getElementById('navigation-drawer');
                drawer.classList.toggle('is-open', open);
            },

            openGlobalRoom: function() {
                document.body.classList.add('chat-mode-active');
            },

            backToRoster: function() {
                document.body.classList.remove('chat-mode-active');
            }
        };

        // –°–æ–±—ã—Ç–∏–µ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é
        document.getElementById('drawer-trigger').onclick = () => uiManager.toggleDrawer(true);
        
        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –ø—Ä–∏ –∫–ª–∏–∫–µ —Å–Ω–∞—Ä—É–∂–∏
        document.addEventListener('click', (e) => {
            const drawer = document.getElementById('navigation-drawer');
            const trigger = document.getElementById('drawer-trigger');
            if (drawer.classList.contains('is-open') && !drawer.contains(e.target) && e.target !== trigger) {
                uiManager.toggleDrawer(false);
            }
        });

        /* –ó–ê–ü–£–°–ö –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø */
        appCore.init();

    </script>
</body>
</html>
